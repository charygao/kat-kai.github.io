---
layout: default
---
<script src="https://cdn.jsdelivr.net/npm/vue"></script>

<div class="posts">
  {% for post in site.posts %}
    {% if post.reserve %}
    <article class="post" id="article" v-if="isPast(`{{ post.reserve | date_to_xmlschema }}`)">
    {% else %}
    <article class="post" id="article">
    {% endif %}
      <div class="date">{{ post.date | date: "%F" }}</div>
      <h1 class="post"><a href="{{ site.baseurl }}{{ post.url }}">{{ post.title }}</a></h1>
      {% for tag in post.tags %}
        <a href="/tags/{{ tag }}" class="tags">{{ tag }}</a>
      {% endfor %}
      
      <section class="post-excerpt" itemprop="description">
      {% if post.outline %}
      <p>{{ post.outline }}</p>
      {% else %}
      <p>{{ post.content | strip_html | truncatewords: 30 }}</p>
      {% endif %}
      </section>
    </article>
  {% endfor %}
</div>

  <script>
  var app = new Vue({
    el: '#article',
    methods: {
        isPast: function(strXmlSchema) {
            var now = new Date().getTime();
            var rsvTime = new Date(strXmlSchema).getTime();
            console.log(now, rsvTime);
            return (now > rsvTime);
        }
    }
  })
</script>
